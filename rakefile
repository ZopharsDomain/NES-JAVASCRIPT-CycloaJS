require 'erb'

generated = ["build/cycloajs-src.js"];


task :default => generated;

file "build/cycloajs-src.js" => "js/cycloa/vm.js" do |t|
	sh "jake"
end

file "js/cycloa/vm.js" => FileList["src/vm*.erb.js", "src/*.rb"] do |t|
	puts "generating emulation core"
	sh "erb src/vm.erb.js > #{t.name}" 
end

task :clean do
	rm generated
end
	

